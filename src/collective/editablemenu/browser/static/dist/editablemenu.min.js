require(["jquery"],function(e){e(function(){var a={closed:"editablemenu.submenu.closed",loaded:"editablemenu.submenu.loaded",opened:"editablemenu.submenu.opened"};e(document).click(function(a){e(a.target).closest(".globalnavWrapper").length||(e(".globalnavWrapper #submenu-details").slideUp(),e(".tabOpen").removeClass("tabOpen"))}),e("a.menuTabLink").click(function(n){if(e(n.currentTarget).hasClass("clickandgo"))return!0;n.preventDefault();var t=e(this),l=t.data().tabid,i=t.parent(),s=e(".globalnavWrapper #submenu-details");if(void 0!==l){if(i.hasClass("tabOpen"))return e(".tabOpen").removeClass("tabOpen"),void s.slideUp(400,function(){t.trigger(a.closed)});if(e(".tabOpen").removeClass("tabOpen"),i.addClass("tabOpen"),1!==s.length||parseInt(s.attr("class").slice(8),10)!==l){var r=e("body").data().baseUrl;e.get(r+"/@@submenu_detail_view?tab_id="+l,function(n){var r=/<script.*?id="protect-script".*?<\/script>/g,d=n.replace(r,""),o=e('<div id="submenu-details" class="submenu-'+l+'" style="display: none;"></div>').html(d);0!==e(o).children().length?0!==s.length?s.is(":visible")?(s.fadeOut("fast").remove(),i.append(o),e(".globalnavWrapper #submenu-details").fadeIn(400,function(){t.trigger(a.loaded)})):(s.remove(),i.append(o),e(".globalnavWrapper #submenu-details").slideDown(400,function(){t.trigger(a.loaded),t.trigger(a.opened)})):(i.append(o),e(".globalnavWrapper #submenu-details").slideDown(400,function(){t.trigger(a.loaded),t.trigger(a.opened)})):t.trigger(a.loaded)})}else s.slideDown(400,function(){t.trigger(a.opened)})}}),e("#portal-top").on("click",".submenuDetailsContent a",function(){e(this).focus()}),e(".globalnavWrapper").on("click","a.closeSubmenuLink",function(n){n.preventDefault();var t=e(this);e(".tabOpen").removeClass("tabOpen"),e(".globalnavWrapper #submenu-details").slideUp(400,function(){t.trigger(a.closed)});var l=e(t.parents("#submenu-details"));if(0!==l.length){var i=l.attr("class").slice(8),s=e('*[data-tabid="'+i+'"]');1===s.length&&e(s).focus()}})})}),define("js/editablemenu.js",function(){});
//# sourceMappingURL=editablemenu.min.js.map